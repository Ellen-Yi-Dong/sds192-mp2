---
title: "Mini-Project 2"
author: "Ellen Dong and Christina Hung"
date: "2019-03-24"
output: 
  html_document:
    code_folding: hide
---


## Loading the data

This project is so interesting and relevant to my life!  



```{r, message = FALSE}
library(tidyverse)
library(dplyr)
library(ggplot2)
library(RColorBrewer)
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

Analysis

```{r}
## Filtering and Grouping the Contributions and House Elections Tables
ca_house_elections <- house_elections %>%
  filter(state == "CA") %>%
  select(state, incumbent, primary_votes, fec_id)

ca_contributions <- contributions %>%
  filter(state == "CA") %>%
  filter(transaction_amt > 0) %>%
  select(state, transaction_amt, cand_id) %>%
  mutate(fec_id = cand_id) %>%
  filter(!is.na(fec_id))


```

```{r} 
## Joining the Contributions and House Elections Tables
contributions_helections <- ca_house_elections %>% 
  full_join(ca_contributions, by = "fec_id")

contributions_helections %>%
  filter(!is.na(state.y)) %>%
  filter(!is.na(transaction_amt)) %>%
  filter(!is.na(cand_id)) %>%
  filter(!is.na(incumbent))

```


```{r warning = FALSE}
#Trying to separate incumbent by TRUE and FALSE
ggplot(contributions_helections, aes(x = transaction_amt, y = primary_votes)) + 
  geom_point(aes(color = incumbent)) + 
  scale_fill_manual(values=c("FALSE" = "black", "TRUE" = "red")) + 
  labs(color = "Incumbent Status", 
         x = "Transaction Amount", 
         y = "Number of Primary Votes", 
         title = "The Number of Primary Votes for Each Politician in a Certain District in CA", 
         subtitle = "With Respect to Incumbency"
         )
```
